[gd_scene load_steps=12 format=4 uid="uid://byq78k0jb2l32"]

[ext_resource type="Script" uid="uid://qkyrpvk420dw" path="res://level/level.gd" id="1_v1ui5"]
[ext_resource type="TileSet" uid="uid://c5nfl1oinj88m" path="res://level/level_tileset.tres" id="3_j6uu3"]
[ext_resource type="TileSet" uid="uid://dpa3di8xng37r" path="res://level/level_tileset_mini.tres" id="4_q5rjn"]
[ext_resource type="PackedScene" uid="uid://bxjr0uwo0iqbk" path="res://objects/abstract/teleport_to_level_zone/teleport_to_level_zone.tscn" id="5_jdocr"]
[ext_resource type="PackedScene" uid="uid://bfdmpp2r661yo" path="res://enemies/rabbit/rabbit.tscn" id="6_11l0m"]
[ext_resource type="PackedScene" uid="uid://dqf5epnakyje8" path="res://objects/door/door.tscn" id="7_nb8xc"]
[ext_resource type="Script" uid="uid://jen8d055ikgk" path="res://objects/abstract/move_on_switch_activated/move_on_switch_activated.gd" id="8_vn2ac"]
[ext_resource type="PackedScene" uid="uid://bus2730on4ksk" path="res://objects/switch/switch.tscn" id="9_heoj5"]
[ext_resource type="Script" uid="uid://bwuy62otllgkb" path="res://utils/connect_group_signals_on_spawn.gd" id="10_1sgm7"]
[ext_resource type="PackedScene" uid="uid://bkb14r24qkb5h" path="res://objects/traps/boulder/factory/create_boulder_on_switch_press.tscn" id="10_db0oe"]

[sub_resource type="Curve2D" id="Curve2D_t44sk"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 288, 448, 0, 0, 0, 0, 288, 320)
}
point_count = 2

[node name="Level_17" type="Node2D" node_paths=PackedStringArray("spawn_locations")]
script = ExtResource("1_v1ui5")
level_binding_box = Rect2(0, 192, 1152, 1280)
spawn_locations = [NodePath("EntrySpawnPoint"), NodePath("ReturnSpawnPoint")]

[node name="EntrySpawnPoint" type="Marker2D" parent="."]
position = Vector2(0, 480)

[node name="ReturnSpawnPoint" type="Marker2D" parent="."]
position = Vector2(896, 480)

[node name="Level" type="TileMapLayer" parent="."]
position = Vector2(0, -192)
tile_map_data = PackedByteArray("AAD//wsAAgACAAEAAAAAAAsAAgACAAEAAAAHAAsAAgACAAEAAAADAAsAAgACAAEAAAAEAAsAAgAIAAEAAAAJAAsAAgACAAEAAAAKAAsAAgACAAEAAAALAAsAAgACAAEAAAAMAAsAAgAIAAEAAAAMAAgAAgABAAMAAAANAAsAAgACAAEAAAABAAsAAgACAAEAAAACAAsAAgACAAEAAAAFAAsAAgACAAEAAAAGAAsAAgACAAEAAAAAAAwAAgACAAIAAAAAAA0AAgACAAIAAAAIAAgAAgAFAAUAAAAEAAgAAgAFAAUAAAD//wgAAgACAAMAAAAAAAgAAgADAAMAAAAEAAcAAgAFAAQAAAAIAAcAAgAFAAQAAAAAAAcAAgADAAIAAAAAAAYAAgADAAIAAAAEAAYAAgAFAAQAAAAIAAYAAgAFAAQAAAANAAwAAgABAAIAAAANAA0AAgABAAIAAAANAAgAAgACAAMAAAAMAAcAAgABAAIAAAAMAAYAAgABAAIAAAAIAAsAAgAIAAEAAAADAAwAAgADAAIAAAADAA0AAgADAAIAAAAFAAwAAgABAAIAAAAFAA0AAgABAAIAAAAHAAwAAgADAAIAAAAHAA0AAgADAAIAAAAJAAwAAgABAAIAAAAJAA0AAgABAAIAAAALAAwAAgADAAIAAAALAA0AAgADAAIAAAABAAwAAgACAAIAAAABAA0AAgACAAIAAAACAAwAAgACAAIAAAACAA0AAgACAAIAAAAGAAwAAgACAAIAAAAGAA0AAgACAAIAAAAKAAwAAgACAAIAAAAKAA0AAgACAAIAAAAOAAsAAgACAAEAAAAOAAgAAgACAAMAAAAAAA4AAgACAAIAAAABAA4AAgACAAIAAAACAA4AAgACAAIAAAADAA4AAgACAAIAAAAFAA4AAgACAAIAAAAGAA4AAgACAAIAAAAHAA4AAgACAAIAAAAIAA4AAgACAAEAAAAJAA4AAgACAAIAAAAKAA4AAgACAAIAAAALAA4AAgACAAIAAAAMAA4AAgACAAEAAAANAA4AAgACAAIAAAAEAA4AAgACAAEAAAA=")
tile_set = ExtResource("3_j6uu3")

[node name="MiniLevel" type="TileMapLayer" parent="Level"]
tile_map_data = PackedByteArray("AAAHABwAAAAEAAUAAAAPABwAAAAEAAUAAAAXABwAAAAEAAUAAAAHABcAAAAEAAUAAAAPABcAAAAEAAUAAAAXABcAAAAEAAUAAAAKABwAAAAEAAUAAAASABwAAAAEAAUAAAAaABwAAAAEAAUAAAAKABcAAAAEAAUAAAASABcAAAAEAAUAAAAaABcAAAAEAAUAAAAIABsAAAAEAAIAAAAJABsAAAAFAAIAAAAQABsAAAAEAAIAAAARABsAAAAFAAIAAAAYABsAAAAEAAIAAAAZABsAAAAFAAIAAAAIABgAAAAEAAcAAAAJABgAAAAFAAcAAAAQABgAAAAEAAcAAAARABgAAAAFAAcAAAAYABgAAAAEAAcAAAAZABgAAAAFAAcAAAAHABgAAAAfAA8AAAAIABcAAAAEAAUAAAAJABcAAAAEAAUAAAAKABgAAAAWAA8AAAAPABgAAAAfAA8AAAAQABcAAAAEAAUAAAARABcAAAAEAAUAAAASABgAAAAWAA8AAAAXABgAAAAfAA8AAAAYABcAAAAEAAUAAAAZABcAAAAEAAUAAAAaABgAAAAWAA8AAAAHABsAAAAfAAYAAAALABsAAAAEAAUAAAAKABsAAAAWAAYAAAAJABwAAAAEAAUAAAAIABwAAAAEAAUAAAAPABsAAAAfAAYAAAAQABwAAAAEAAUAAAARABwAAAAEAAUAAAASABsAAAAWAAYAAAAXABsAAAAfAAYAAAAYABwAAAAEAAUAAAAZABwAAAAEAAUAAAAaABsAAAAWAAYAAAAHABoAAAAHAAUAAAAPABoAAAAHAAUAAAAXABoAAAAHAAUAAAAXABkAAAAHAAQAAAAPABkAAAAHAAQAAAAHABkAAAAHAAQAAAA=")
tile_set = ExtResource("4_q5rjn")

[node name="ToNextLevelTeleportZone" parent="." instance=ExtResource("5_jdocr")]
position = Vector2(992, 448)
scale = Vector2(4, 8.1)
to_level_path = "uid://cuycqdwnf4y3h"

[node name="ToPreviousLevelTeleportZone" parent="." instance=ExtResource("5_jdocr")]
position = Vector2(-96, 448)
scale = Vector2(4, 8.1)
to_level_path = "uid://bp18vkl3xpcg7"
to_spawn_location_with_index = 1

[node name="Rabbit" parent="." instance=ExtResource("6_11l0m")]
position = Vector2(288, 656)
jump_movement = Vector2(119, -200)
jump_inital_delay = -1
jump_timer = 2.0

[node name="Rabbit2" parent="." instance=ExtResource("6_11l0m")]
position = Vector2(544, 656)
jump_movement = Vector2(119, -200)
jump_timer = 2.0

[node name="Rabbit3" parent="." instance=ExtResource("6_11l0m")]
position = Vector2(800, 656)
jump_movement = Vector2(119, -200)
jump_inital_delay = 1
jump_timer = 2.0

[node name="Path2D" type="Path2D" parent="."]
curve = SubResource("Curve2D_t44sk")

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D"]
position = Vector2(288, 448)
rotates = false
loop = false

[node name="Door6" parent="Path2D/PathFollow2D" node_paths=PackedStringArray("movement_path") instance=ExtResource("7_nb8xc")]
script = ExtResource("8_vn2ac")
movement_path = NodePath("..")
movement_speed = 250.0

[node name="Path2D2" type="Path2D" parent="."]
position = Vector2(256, 0)
curve = SubResource("Curve2D_t44sk")

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D2"]
position = Vector2(288, 448)
rotates = false
loop = false

[node name="Door2" parent="Path2D2/PathFollow2D" node_paths=PackedStringArray("movement_path") instance=ExtResource("7_nb8xc")]
script = ExtResource("8_vn2ac")
movement_path = NodePath("..")
movement_speed = 250.0

[node name="Path2D3" type="Path2D" parent="."]
position = Vector2(512, 0)
curve = SubResource("Curve2D_t44sk")

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D3"]
position = Vector2(288, 448)
rotates = false
loop = false

[node name="Door3" parent="Path2D3/PathFollow2D" node_paths=PackedStringArray("movement_path") instance=ExtResource("7_nb8xc")]
script = ExtResource("8_vn2ac")
movement_path = NodePath("..")
movement_speed = 250.0

[node name="Switch" parent="." instance=ExtResource("9_heoj5")]
position = Vector2(320, 640)
rotation = 1.5707964
has_timer = true
switch_duration = 1.0

[node name="Switch2" parent="." instance=ExtResource("9_heoj5")]
position = Vector2(576, 640)
rotation = 1.5707964
has_timer = true
switch_duration = 1.0

[node name="Switch3" parent="." instance=ExtResource("9_heoj5")]
position = Vector2(832, 640)
rotation = 1.5707964
has_timer = true
switch_duration = 1.0

[node name="Switch1_sawblade_shooters" type="Node" parent="." node_paths=PackedStringArray("connects_to")]
script = ExtResource("10_1sgm7")
connects_to = NodePath("../Switch")
signal_names = Array[String](["switch_flipped_on"])
callback_names = Array[String](["_fire_boulder_on_swtich_press"])

[node name="CreateBoulderOnSwitchPress" parent="Switch1_sawblade_shooters" instance=ExtResource("10_db0oe")]
position = Vector2(96, 160)

[node name="CreateBoulderOnSwitchPress2" parent="Switch1_sawblade_shooters" instance=ExtResource("10_db0oe")]
position = Vector2(352, 160)

[node name="CreateBoulderOnSwitchPress3" parent="Switch1_sawblade_shooters" instance=ExtResource("10_db0oe")]
position = Vector2(608, 160)

[node name="Switch2_sawblade_shooters" type="Node" parent="." node_paths=PackedStringArray("connects_to")]
script = ExtResource("10_1sgm7")
connects_to = NodePath("../Switch2")
signal_names = Array[String](["switch_flipped_on"])
callback_names = Array[String](["_fire_boulder_on_swtich_press"])

[node name="CreateBoulderOnSwitchPress4" parent="Switch2_sawblade_shooters" instance=ExtResource("10_db0oe")]
position = Vector2(160, 160)

[node name="CreateBoulderOnSwitchPress5" parent="Switch2_sawblade_shooters" instance=ExtResource("10_db0oe")]
position = Vector2(416, 160)

[node name="CreateBoulderOnSwitchPress6" parent="Switch2_sawblade_shooters" instance=ExtResource("10_db0oe")]
position = Vector2(672, 160)

[node name="Switch3_sawblade_shooters" type="Node" parent="." node_paths=PackedStringArray("connects_to")]
script = ExtResource("10_1sgm7")
connects_to = NodePath("../Switch3")
signal_names = Array[String](["switch_flipped_on"])
callback_names = Array[String](["_fire_boulder_on_swtich_press"])

[node name="CreateBoulderOnSwitchPress7" parent="Switch3_sawblade_shooters" instance=ExtResource("10_db0oe")]
position = Vector2(224, 160)

[node name="CreateBoulderOnSwitchPress8" parent="Switch3_sawblade_shooters" instance=ExtResource("10_db0oe")]
position = Vector2(480, 160)

[node name="CreateBoulderOnSwitchPress9" parent="Switch3_sawblade_shooters" instance=ExtResource("10_db0oe")]
position = Vector2(736, 160)

[connection signal="ready" from="." to="." method="_on_ready"]
[connection signal="switch_flipped_off" from="Switch" to="Path2D/PathFollow2D/Door6" method="_on_switch_flipped_off"]
[connection signal="switch_flipped_on" from="Switch" to="Path2D/PathFollow2D/Door6" method="_on_switch_flipped_on"]
[connection signal="switch_flipped_off" from="Switch2" to="Path2D2/PathFollow2D/Door2" method="_on_switch_flipped_off"]
[connection signal="switch_flipped_on" from="Switch2" to="Path2D2/PathFollow2D/Door2" method="_on_switch_flipped_on"]
[connection signal="switch_flipped_off" from="Switch3" to="Path2D3/PathFollow2D/Door3" method="_on_switch_flipped_off"]
[connection signal="switch_flipped_on" from="Switch3" to="Path2D3/PathFollow2D/Door3" method="_on_switch_flipped_on"]
