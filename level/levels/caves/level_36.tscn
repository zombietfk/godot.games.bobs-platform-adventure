[gd_scene format=4 uid="uid://bak66jhe63jvf"]

[ext_resource type="Script" uid="uid://qkyrpvk420dw" path="res://level/level.gd" id="1_yo5r5"]
[ext_resource type="PackedScene" uid="uid://bxjr0uwo0iqbk" path="res://objects/abstract/teleport_to_level_zone/teleport_to_level_zone.tscn" id="2_v0t2x"]
[ext_resource type="TileSet" uid="uid://c5nfl1oinj88m" path="res://level/level_tileset.tres" id="3_lbcks"]
[ext_resource type="TileSet" uid="uid://dpa3di8xng37r" path="res://level/level_tileset_mini.tres" id="4_uxq4s"]
[ext_resource type="PackedScene" uid="uid://bus2730on4ksk" path="res://objects/switch/floor_switch.tscn" id="5_sitof"]
[ext_resource type="Script" uid="uid://cun18auwrqa22" path="res://objects/abstract/follow_path_cyclical/follow_path_cyclical.gd" id="6_3wk2w"]
[ext_resource type="Script" uid="uid://jen8d055ikgk" path="res://objects/abstract/move_on_switch_activated/move_on_switch_activated.gd" id="7_3wk2w"]
[ext_resource type="PackedScene" uid="uid://bvkius8ni6k6a" path="res://objects/traps/spikes/spike.tscn" id="7_swc31"]
[ext_resource type="PackedScene" uid="uid://b0au5c0e5qeas" path="res://objects/arrow_guide.tscn" id="9_551i5"]

[sub_resource type="Curve2D" id="Curve2D_swc31"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 0, 256, 0, 0, 0, 0, 0, -384)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_sitof"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 0, 256, 0, 0, 0, 0, 0, -64)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_3wk2w"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 0, 256, 0, 0, 0, 0, 0, -192)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_551i5"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 0, 256, 0, 0, 0, 0, 128, 256)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_phddu"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 0, 256, 0, 0, 0, 0, 0, 320)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_yg7ny"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 0, 256, 0, 0, 0, 0, 0, -576)
}
point_count = 2

[node name="Level_36" type="Node2D" unique_id=1817289081 node_paths=PackedStringArray("spawn_locations")]
script = ExtResource("1_yo5r5")
level_binding_box = Rect2(128, -192, 1216, 960)
spawn_locations = [NodePath("EntrySpawnPoint"), NodePath("ReturnSpawnPoint")]

[node name="EntrySpawnPoint" type="Marker2D" parent="." unique_id=1321739292]
position = Vector2(160, 288)

[node name="ReturnSpawnPoint" type="Marker2D" parent="." unique_id=873661012]
position = Vector2(1024, 192)

[node name="ToNextLevelTeleportZone" parent="." unique_id=1762773962 instance=ExtResource("2_v0t2x")]
position = Vector2(1248, 832)
scale = Vector2(4, 8.1)
to_level_path = "res://level/levels/caves/level_37.tscn"

[node name="ToPreviousLevelTeleportZone2" parent="." unique_id=2085392994 instance=ExtResource("2_v0t2x")]
position = Vector2(96, 256)
scale = Vector2(4, 8.1)
to_level_path = "uid://dwfu3yhlcyl5b"
to_spawn_location_with_index = 1

[node name="Spike" parent="." unique_id=509747046 instance=ExtResource("7_swc31")]
position = Vector2(288, 672)

[node name="Spike2" parent="." unique_id=1937547484 instance=ExtResource("7_swc31")]
position = Vector2(320, 672)

[node name="Spike3" parent="." unique_id=1651185134 instance=ExtResource("7_swc31")]
position = Vector2(352, 672)

[node name="Spike4" parent="." unique_id=245165509 instance=ExtResource("7_swc31")]
position = Vector2(384, 672)

[node name="Spike5" parent="." unique_id=2078562771 instance=ExtResource("7_swc31")]
position = Vector2(416, 672)

[node name="Spike6" parent="." unique_id=1424208914 instance=ExtResource("7_swc31")]
position = Vector2(448, 672)

[node name="Spike7" parent="." unique_id=1701541991 instance=ExtResource("7_swc31")]
position = Vector2(480, 672)

[node name="Spike8" parent="." unique_id=107245377 instance=ExtResource("7_swc31")]
position = Vector2(608, 416)

[node name="Spike9" parent="." unique_id=139569847 instance=ExtResource("7_swc31")]
position = Vector2(640, 416)

[node name="Spike10" parent="." unique_id=692587021 instance=ExtResource("7_swc31")]
position = Vector2(672, 416)

[node name="Spike11" parent="." unique_id=1320610003 instance=ExtResource("7_swc31")]
position = Vector2(704, 416)

[node name="Spike12" parent="." unique_id=359980751 instance=ExtResource("7_swc31")]
position = Vector2(736, 416)

[node name="Spike13" parent="." unique_id=1330313666 instance=ExtResource("7_swc31")]
position = Vector2(768, 416)

[node name="Spike14" parent="." unique_id=1462232736 instance=ExtResource("7_swc31")]
position = Vector2(800, 416)

[node name="Path2D" type="Path2D" parent="." unique_id=965859439]
position = Vector2(544, 416)
curve = SubResource("Curve2D_swc31")
script = ExtResource("6_3wk2w")
speed = 150.0

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D" unique_id=1511629004]
position = Vector2(0, 256)
rotates = false
loop = false

[node name="Block" type="TileMapLayer" parent="Path2D/PathFollow2D" unique_id=1831822492]
position = Vector2(32, -32)
tile_map_data = PackedByteArray("AAD//wAAAgAFAAEAAAA=")
tile_set = ExtResource("3_lbcks")
use_kinematic_bodies = true

[node name="FloorSwitch" parent="Path2D/PathFollow2D" unique_id=1853006984 instance=ExtResource("5_sitof")]
position = Vector2(-32, 0)
rotation = -1.5707964

[node name="Path2D2" type="Path2D" parent="." unique_id=815992035]
position = Vector2(864, -32)
curve = SubResource("Curve2D_sitof")
script = ExtResource("6_3wk2w")
speed = 100.0

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D2" unique_id=396900217]
position = Vector2(0, 256)
rotates = false
loop = false

[node name="Block" type="TileMapLayer" parent="Path2D2/PathFollow2D" unique_id=2074178252]
position = Vector2(32, -32)
tile_map_data = PackedByteArray("AAD//wAAAgAFAAEAAAA=")
tile_set = ExtResource("3_lbcks")
use_kinematic_bodies = true

[node name="FloorSwitch" parent="Path2D2/PathFollow2D" unique_id=1566556904 instance=ExtResource("5_sitof")]
position = Vector2(-32, 0)
rotation = -1.5707964

[node name="Path2D3" type="Path2D" parent="." unique_id=1525719562]
position = Vector2(1184, 416)
curve = SubResource("Curve2D_3wk2w")
script = ExtResource("6_3wk2w")
speed = 125.0

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D3" unique_id=923804477]
position = Vector2(0, 256)
rotates = false
loop = false

[node name="Block" type="TileMapLayer" parent="Path2D3/PathFollow2D" unique_id=205165444]
position = Vector2(32, -32)
tile_map_data = PackedByteArray("AAD//wAAAgAFAAEAAAA=")
tile_set = ExtResource("3_lbcks")
use_kinematic_bodies = true

[node name="FloorSwitch" parent="Path2D3/PathFollow2D" unique_id=502742888 instance=ExtResource("5_sitof")]
position = Vector2(-32, 0)
rotation = -1.5707964

[node name="Path2D4" type="Path2D" parent="." unique_id=1707972017]
position = Vector2(992, -160)
curve = SubResource("Curve2D_551i5")
script = ExtResource("6_3wk2w")
speed = 40.0

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D4" unique_id=1595475490]
position = Vector2(0, 256)
rotates = false
loop = false

[node name="Block" type="TileMapLayer" parent="Path2D4/PathFollow2D" unique_id=1750652596]
position = Vector2(32, -32)
tile_map_data = PackedByteArray("AAD//wAAAgAFAAEAAAA=")
tile_set = ExtResource("3_lbcks")
use_kinematic_bodies = true

[node name="FloorSwitch" parent="Path2D4/PathFollow2D" unique_id=1814646649 instance=ExtResource("5_sitof")]
position = Vector2(0, 32)
rotation = 3.1415927

[node name="Path2D5" type="Path2D" parent="." unique_id=437737724]
position = Vector2(864, 32)
curve = SubResource("Curve2D_phddu")
script = ExtResource("7_3wk2w")
movement_speed = 640.0

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D5" unique_id=333363333]
position = Vector2(0, 256)
rotates = false
loop = false

[node name="Block" type="TileMapLayer" parent="Path2D5/PathFollow2D" unique_id=1623977525]
position = Vector2(32, -32)
tile_map_data = PackedByteArray("AAD//wAAAgAFAAEAAAA=")
tile_set = ExtResource("3_lbcks")
use_kinematic_bodies = true

[node name="Path2D6" type="Path2D" parent="." unique_id=1192797237]
position = Vector2(864, 352)
curve = SubResource("Curve2D_phddu")
script = ExtResource("7_3wk2w")
movement_speed = 640.0

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D6" unique_id=273202819]
position = Vector2(0, 256)
rotates = false
loop = false

[node name="Block" type="TileMapLayer" parent="Path2D6/PathFollow2D" unique_id=2035922729]
position = Vector2(32, -32)
tile_map_data = PackedByteArray("AAD//wAAAgAFAAEAAAA=")
tile_set = ExtResource("3_lbcks")
use_kinematic_bodies = true

[node name="Path2D7" type="Path2D" parent="." unique_id=1434763462]
position = Vector2(736, 352)
curve = SubResource("Curve2D_phddu")
script = ExtResource("7_3wk2w")
movement_speed = 640.0

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D7" unique_id=533556957]
position = Vector2(0, 256)
rotates = false
loop = false

[node name="Block" type="TileMapLayer" parent="Path2D7/PathFollow2D" unique_id=132672642]
position = Vector2(32, -32)
tile_map_data = PackedByteArray("AAD//wAAAgAFAAEAAAA=")
tile_set = ExtResource("3_lbcks")
use_kinematic_bodies = true

[node name="Spike15" parent="Path2D7/PathFollow2D" unique_id=963671973 instance=ExtResource("7_swc31")]
position = Vector2(192, 70)
scale = Vector2(0.8, 0.8)

[node name="Spike16" parent="Path2D7/PathFollow2D" unique_id=910647560 instance=ExtResource("7_swc31")]
position = Vector2(224, 70)
scale = Vector2(0.8, 0.8)

[node name="Spike17" parent="Path2D7/PathFollow2D" unique_id=1439699535 instance=ExtResource("7_swc31")]
position = Vector2(256, 70)
scale = Vector2(0.8, 0.8)

[node name="Spike18" parent="Path2D7/PathFollow2D" unique_id=2125169194 instance=ExtResource("7_swc31")]
position = Vector2(288, 70)
scale = Vector2(0.8, 0.8)

[node name="Spike19" parent="Path2D7/PathFollow2D" unique_id=913174532 instance=ExtResource("7_swc31")]
position = Vector2(320, 70)
scale = Vector2(0.8, 0.8)

[node name="Spike20" parent="Path2D7/PathFollow2D" unique_id=332748530 instance=ExtResource("7_swc31")]
position = Vector2(353, 70)
scale = Vector2(0.8, 0.8)

[node name="Path2D8" type="Path2D" parent="." unique_id=1617344455]
position = Vector2(384, 480)
curve = SubResource("Curve2D_yg7ny")
script = ExtResource("7_3wk2w")
movement_speed = 300.0

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D8" unique_id=884263232]
position = Vector2(0, 256)
rotates = false
loop = false

[node name="Block" type="TileMapLayer" parent="Path2D8/PathFollow2D" unique_id=429336570]
position = Vector2(-64, -32)
tile_map_data = PackedByteArray("AAD//wAAAgABAAEAAAAAAAAAAgACAAEAAAABAAAAAgACAAEAAAACAAAAAgADAAEAAAD//wEAAgABAAIAAAAAAAEAAgACAAIAAAD//wIAAgABAAIAAAAAAAIAAgACAAIAAAD//wMAAgABAAIAAAAAAAMAAgACAAIAAAD//wQAAgABAAIAAAAAAAQAAgACAAIAAAD//wUAAgABAAIAAAAAAAUAAgACAAIAAAD//wYAAgABAAIAAAAAAAYAAgACAAIAAAD//wcAAgABAAIAAAAAAAcAAgACAAIAAAD//wgAAgABAAIAAAAAAAgAAgACAAIAAAD//wkAAgABAAIAAAAAAAkAAgACAAIAAAD//woAAgABAAIAAAAAAAoAAgACAAIAAAD//wsAAgABAAIAAAAAAAsAAgACAAIAAAD//wwAAgABAAMAAAAAAAwAAgACAAMAAAABAAEAAgACAAIAAAACAAEAAgADAAIAAAABAAIAAgACAAIAAAACAAIAAgADAAIAAAABAAMAAgACAAIAAAACAAMAAgADAAIAAAABAAQAAgACAAIAAAACAAQAAgADAAIAAAABAAUAAgACAAIAAAACAAUAAgADAAIAAAABAAYAAgACAAIAAAACAAYAAgADAAIAAAABAAcAAgACAAIAAAACAAcAAgADAAIAAAABAAgAAgACAAIAAAACAAgAAgADAAIAAAABAAkAAgACAAIAAAACAAkAAgADAAIAAAABAAoAAgACAAIAAAACAAoAAgADAAIAAAABAAsAAgACAAIAAAACAAsAAgADAAIAAAABAAwAAgACAAMAAAACAAwAAgADAAMAAAA=")
tile_set = ExtResource("3_lbcks")
use_kinematic_bodies = true

[node name="Spike21" parent="." unique_id=453685885 instance=ExtResource("7_swc31")]
position = Vector2(1120, 678)
scale = Vector2(0.8, 0.8)

[node name="Level" type="TileMapLayer" parent="." unique_id=1614676504]
position = Vector2(0, -192)
tile_map_data = PackedByteArray("AAACAAgAAgACAAEAAAADAAgAAgADAAEAAAACAAUAAgACAAMAAAADAAUAAgADAAMAAAADAAQAAgADAAIAAAADAAkAAgADAAIAAAADAAMAAgADAAIAAAADAAoAAgADAAIAAAADAAsAAgADAAIAAAADAAwAAgADAAIAAAADAA0AAgADAAIAAAAEAA4AAgACAAEAAAAFAA4AAgACAAEAAAAGAA4AAgACAAEAAAAHAA4AAgACAAEAAAAIAAgAAgAFAAQAAAAIAAkAAgAFAAQAAAAIAAoAAgABAAIAAAAIAAsAAgABAAIAAAAIAAwAAgAFAAQAAAAIAA0AAgAFAAQAAAAIAAUAAgAFAAQAAAAIAAYAAgAFAAQAAAAIAAcAAgAFAAQAAAAIAAQAAgAFAAQAAAAIAAMAAgAFAAMAAAADAAEAAgADAAIAAAADAAIAAgADAAIAAAAEAAAAAgACAAMAAAAFAAAAAgACAAMAAAAGAAAAAgACAAMAAAAHAAAAAgACAAMAAAAIAAAAAgAJAAUAAAAMAAAAAgAHAAUAAAANAAEAAgABAAIAAAANAAIAAgABAAIAAAANAAMAAgABAAIAAAANAAQAAgABAAIAAAANAAUAAgABAAIAAAANAAYAAgAFAAUAAAANAAgAAgAFAAMAAAANAAkAAgAFAAQAAAAJAAoAAgACAAEAAAAKAAoAAgACAAEAAAALAAoAAgACAAEAAAAMAAoAAgACAAEAAAANAAoAAgADAAIAAAAOAAUAAgAJAAUAAAASAAYAAgABAAIAAAASAAcAAgABAAIAAAASAAgAAgABAAIAAAASAAkAAgABAAIAAAASAAoAAgABAAIAAAASAAsAAgABAAIAAAASAAwAAgABAAIAAAASAA0AAgABAAIAAAAOAA4AAgAIAAEAAAAPAA4AAgAIAAEAAAAQAA4AAgAIAAEAAAARAA4AAgAIAAEAAAANAA0AAgADAAEAAAANAAsAAgADAAMAAAALAAsAAgACAAMAAAAMAAsAAgACAAMAAAAJAAsAAgACAAMAAAAKAAsAAgACAAMAAAALAA0AAgABAAEAAAAMAA0AAgACAAEAAAAIAA4AAgADAAIAAAAIAA8AAgADAAIAAAAIABAAAgADAAIAAAAJABEAAgACAAEAAAAKABEAAgACAAEAAAALABEAAgACAAEAAAAMABEAAgACAAEAAAANABEAAgACAAEAAAAOABEAAgACAAEAAAAPABEAAgACAAEAAAAQABEAAgACAAEAAAARABEAAgACAAEAAAALAA4AAgABAAMAAAAMAA4AAgACAAMAAAANAA4AAgACAAMAAAASAA4AAgACAAMAAAASABEAAgACAAEAAAAJAP//AgACAAMAAAAKAP//AgACAAMAAAALAP//AgACAAMAAAASAAUAAgABAAIAAAAPAAQAAgACAAMAAAAQAAQAAgACAAMAAAARAAQAAgACAAMAAAAOAAQAAgAPAAcAAAASAAQAAgALAAcAAAANAAAAAgALAAcAAAAMAP//AgALAAcAAAADAAAAAgAPAAcAAAAIAP//AgAPAAcAAAADAA4AAgAPAAMAAAAIABEAAgAPAAMAAAA=")
tile_set = ExtResource("3_lbcks")

[node name="MiniLevel" type="TileMapLayer" parent="Level" unique_id=1872219801]
tile_set = ExtResource("4_uxq4s")

[node name="ArrowGuide2" parent="." unique_id=2055402888 instance=ExtResource("9_551i5")]
position = Vector2(1088, 416)

[node name="ArrowGuide3" parent="." unique_id=1220256893 instance=ExtResource("9_551i5")]
position = Vector2(1056, 192)
rotation = -1.5707964

[connection signal="ready" from="." to="." method="_on_ready"]
[connection signal="switch_flipped_on" from="Path2D/PathFollow2D/FloorSwitch" to="Path2D8" method="_on_switch_flipped_on"]
[connection signal="switch_flipped_on" from="Path2D2/PathFollow2D/FloorSwitch" to="Path2D5" method="_on_switch_flipped_on"]
[connection signal="switch_flipped_on" from="Path2D3/PathFollow2D/FloorSwitch" to="Path2D7" method="_on_switch_flipped_on"]
[connection signal="switch_flipped_on" from="Path2D4/PathFollow2D/FloorSwitch" to="Path2D6" method="_on_switch_flipped_on"]
