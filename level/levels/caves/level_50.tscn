[gd_scene format=4 uid="uid://cimgyg0ybb8vo"]

[ext_resource type="Script" uid="uid://qkyrpvk420dw" path="res://level/level.gd" id="1_qms8o"]
[ext_resource type="TileSet" uid="uid://c5nfl1oinj88m" path="res://level/level_tileset.tres" id="2_5p3ro"]
[ext_resource type="PackedScene" uid="uid://dqf5epnakyje8" path="res://objects/door/door.tscn" id="2_q4j7r"]
[ext_resource type="TileSet" uid="uid://dpa3di8xng37r" path="res://level/level_tileset_mini.tres" id="3_se30l"]
[ext_resource type="PackedScene" uid="uid://bxjr0uwo0iqbk" path="res://objects/abstract/teleport_to_level_zone/teleport_to_level_zone.tscn" id="4_lieyi"]
[ext_resource type="Script" uid="uid://l6sodqykds7e" path="res://enemies/bosses/demon-rabbit/demon_bunny.gd" id="5_5vagu"]
[ext_resource type="Script" uid="uid://cwv6f5eaqt8it" path="res://objects/abstract/follow_path_cyclical/follow_path.gd" id="6_2qow0"]
[ext_resource type="SpriteFrames" uid="uid://bm0ynqus6gxsc" path="res://enemies/bosses/demon-rabbit/demon_rabbit_sprites.tres" id="6_geej5"]
[ext_resource type="Script" uid="uid://cq1n40n7najap" path="res://utils/finate_state_machine/state_machine.gd" id="6_nphm7"]
[ext_resource type="AudioStream" uid="uid://bbuu8yjub3vqw" path="res://sound_effects/whoosh_1.mp3" id="6_ykkyn"]
[ext_resource type="AudioStream" uid="uid://e01qn8opguxb" path="res://sound_effects/casino_1.mp3" id="7_gfy6r"]
[ext_resource type="Texture2D" uid="uid://jphbfbr6mhm8" path="res://enemies/bosses/demon-rabbit/pitchfork.png" id="7_plgov"]
[ext_resource type="Script" uid="uid://ck3ako1qxoafe" path="res://enemies/bosses/demon-rabbit/state_machine/states/demon_bunny_stage_one_state.gd" id="7_sajdd"]
[ext_resource type="AudioStream" uid="uid://h5v4kaacqk6c" path="res://sound_effects/evil_laugh.mp3" id="8_32dcf"]
[ext_resource type="Script" uid="uid://brolk62jwg6tn" path="res://enemies/bosses/demon-rabbit/state_machine/states/demon_bunny_stage_two_state.gd" id="8_sajdd"]
[ext_resource type="Script" uid="uid://b5r2dlqget504" path="res://objects/slots/reel_face.gd" id="9_fvgwv"]
[ext_resource type="Texture2D" uid="uid://71v0qc16koph" path="res://objects/slots/slot_reel_icons_spreadsheet.png" id="9_plgov"]
[ext_resource type="Script" uid="uid://comihsbhv3eb" path="res://objects/slots/slot.gd" id="9_wl40v"]
[ext_resource type="Script" uid="uid://dayg0uqyroh2j" path="res://objects/slots/reel.gd" id="10_jksjo"]
[ext_resource type="PackedScene" uid="uid://bus2730on4ksk" path="res://objects/switch/floor_switch.tscn" id="11_76sjl"]
[ext_resource type="Script" uid="uid://bwbg88mrcs5m4" path="res://enemies/bosses/demon-rabbit/pitchfork.gd" id="12_wjq65"]
[ext_resource type="PackedScene" uid="uid://ngno17n1l57r" path="res://enemies/bosses/demon-rabbit/spawners/slot_pitchfork/slot_pitchfork_spawner.tscn" id="19_8r4um"]
[ext_resource type="Texture2D" uid="uid://bkbewj8k7no3v" path="res://objects/slots/hold_icon_sprite.png" id="20_psb4i"]
[ext_resource type="Texture2D" uid="uid://csom0ud3bort6" path="res://objects/slots/jackpot_banner_sprite.png" id="21_2ubnh"]
[ext_resource type="PackedScene" uid="uid://bbn7u27p8pohs" path="res://enemies/bosses/demon-rabbit/spawners/slot_imp/slot_flying_imp.tscn" id="21_opxan"]
[ext_resource type="Script" uid="uid://dh22qt2lnpoi7" path="res://objects/enemy_spawner.gd" id="22_02g23"]
[ext_resource type="PackedScene" uid="uid://kvp0ujme0hae" path="res://enemies/bosses/demon-rabbit/spawners/slot_boulder/slot_boulder.tscn" id="23_x6o5y"]
[ext_resource type="PackedScene" uid="uid://cyox6cbypd3c2" path="res://enemies/bosses/demon-rabbit/spawners/slot_spike/slot_spike.tscn" id="24_bd8oj"]
[ext_resource type="PackedScene" uid="uid://b2u0n5g4c7pf4" path="res://enemies/spider/awakened_spider.tscn" id="26_opxan"]
[ext_resource type="PackedScene" uid="uid://ddnwiys13s3es" path="res://enemies/bosses/demon-rabbit/spawners/slot_superbunny/slot_superbunny.tscn" id="27_n1djo"]
[ext_resource type="AudioStream" uid="uid://dflr62khea82a" path="res://boss_music.mp3" id="27_q4j7r"]
[ext_resource type="Script" uid="uid://jen8d055ikgk" path="res://objects/abstract/move_on_switch_activated/move_on_switch_activated.gd" id="29_ocdvy"]

[sub_resource type="CircleShape2D" id="CircleShape2D_jmrix"]
radius = 41.0

[sub_resource type="Animation" id="Animation_i52du"]
length = 0.001
loop_mode = 2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}

[sub_resource type="Animation" id="Animation_bv7or"]
resource_name = "spin_pitchfork"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.33, 0.66, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [0.0, 6.283185307179586, 12.566370614359172, 18.84955592153876]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_i52du"]
_data = {
&"RESET": SubResource("Animation_i52du"),
&"spin_pitchfork": SubResource("Animation_bv7or")
}

[sub_resource type="Curve2D" id="Curve2D_geej5"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 512, 928, 0, 0, 0, 0, 832, 928, 0, 0, 0, 0, 832, 992, 0, 0, 0, 0, 512, 992, 0, 0, 0, 0, 512, 928)
}
point_count = 5

[sub_resource type="Curve2D" id="Curve2D_8r4um"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 576)
}
point_count = 2

[sub_resource type="AtlasTexture" id="AtlasTexture_nphm7"]
atlas = ExtResource("9_plgov")
region = Rect2(0, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_sajdd"]
atlas = ExtResource("9_plgov")
region = Rect2(64, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_wjq65"]
atlas = ExtResource("9_plgov")
region = Rect2(128, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_jksjo"]
atlas = ExtResource("9_plgov")
region = Rect2(0, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_5vagu"]
atlas = ExtResource("9_plgov")
region = Rect2(64, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_meifo"]
atlas = ExtResource("9_plgov")
region = Rect2(128, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_8r4um"]
atlas = ExtResource("9_plgov")
region = Rect2(0, 192, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_psb4i"]
atlas = ExtResource("9_plgov")
region = Rect2(64, 192, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_2ubnh"]
atlas = ExtResource("9_plgov")
region = Rect2(128, 192, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_fvgwv"]
atlas = ExtResource("9_plgov")
region = Rect2(0, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_76sjl"]
atlas = ExtResource("9_plgov")
region = Rect2(64, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_02g23"]
atlas = ExtResource("9_plgov")
region = Rect2(0, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_x6o5y"]
atlas = ExtResource("9_plgov")
region = Rect2(64, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_bd8oj"]
atlas = ExtResource("9_plgov")
region = Rect2(128, 256, 64, 64)

[sub_resource type="SpriteFrames" id="SpriteFrames_lssyx"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_nphm7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sajdd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wjq65")
}],
"loop": true,
"name": &"pitchfork",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_jksjo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5vagu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_meifo")
}],
"loop": true,
"name": &"rabbit",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_8r4um")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_psb4i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2ubnh")
}],
"loop": true,
"name": &"rock",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_fvgwv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_76sjl")
}],
"loop": true,
"name": &"spider",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_02g23")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x6o5y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bd8oj")
}],
"loop": true,
"name": &"spike",
"speed": 5.0
}]

[sub_resource type="Animation" id="Animation_76sjl"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 0.5)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../Face2:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 64)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("../Face2:scale")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("../Face3:scale")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1e-05)]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("../Face3:position")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 128)]
}

[sub_resource type="Animation" id="Animation_plgov"]
resource_name = "reel_1"
length = 0.75
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.25, 0.75),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(0, 0), Vector2(0, -16), Vector2(0, -24)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.25, 0.75),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(1, 1), Vector2(1, 0.5), Vector2(1, 1e-05)]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.75),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"switch_to_next_face"
}]
}

[sub_resource type="Animation" id="Animation_wl40v"]
resource_name = "reel_2"
length = 0.75
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../Face2:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.75),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(0, 64), Vector2(0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../Face2:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../Face2")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.75),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"switch_to_next_face"
}]
}

[sub_resource type="Animation" id="Animation_jksjo"]
resource_name = "reel_3"
length = 0.75
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../Face3:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.25, 0.75),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(1, 1e-05), Vector2(1, 0.5), Vector2(1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../Face3:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.25, 0.75),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(0, 128), Vector2(0, 112), Vector2(0, 64)]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../Face3")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.75),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"switch_to_next_face"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_fvgwv"]
_data = {
&"RESET": SubResource("Animation_76sjl"),
&"reel_1": SubResource("Animation_plgov"),
&"reel_2": SubResource("Animation_wl40v"),
&"reel_3": SubResource("Animation_jksjo")
}

[sub_resource type="Curve2D" id="Curve2D_ocdvy"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 1344, 832, 0, 0, 0, 0, 1344, 704)
}
point_count = 2

[node name="Level_50" type="Node2D" unique_id=1052754089 node_paths=PackedStringArray("spawn_locations", "music_override")]
script = ExtResource("1_qms8o")
level_binding_box = Rect2(384, 320, 1344, 1088)
spawn_locations = [NodePath("EntrySpawnPoint"), NodePath("ReturnSpawnPoint"), null]
camera_zoom_to = Vector2(0.8, 0.8)
camera_zoom_speed = 0.01
music_override = NodePath("BossMusicAudioStreamPlayer")

[node name="EntrySpawnPoint" type="Marker2D" parent="." unique_id=1426282439]
position = Vector2(512, 832)

[node name="ReturnSpawnPoint" type="Marker2D" parent="." unique_id=881931622]
position = Vector2(2144, 480)

[node name="Level" type="TileMapLayer" parent="." unique_id=536247868]
position = Vector2(0, -192)
tile_map_data = PackedByteArray("AAAFAAgAAgADAAIAAAAFAAkAAgADAAIAAAAFAAoAAgADAAIAAAAFAAsAAgADAAIAAAAFAAwAAgADAAIAAAAFAA0AAgADAAIAAAAFAA4AAgADAAIAAAAFAA8AAgADAAIAAAAFABAAAgADAAIAAAAFABEAAgADAAIAAAAFABIAAgADAAIAAAAFABMAAgADAAIAAAAQABEAAgAHAAEAAAARABEAAgAIAAEAAAASABEAAgAJAAEAAAAVAAoAAgABAAIAAAAVAAsAAgABAAIAAAAVAAwAAgABAAIAAAAVAA0AAgABAAIAAAAVABIAAgABAAIAAAAVABMAAgABAAIAAAAVAAkAAgABAAIAAAAJAAgAAgACAAMAAAAKAAgAAgACAAMAAAALAAgAAgACAAMAAAAMAAgAAgACAAMAAAANAAgAAgACAAMAAAAOAAgAAgACAAMAAAAPAAgAAgADAAMAAAATAAgAAgABAAMAAAAUAAgAAgACAAMAAAAVABEAAgABAAEAAAAVAA4AAgABAAMAAAA=")
tile_set = ExtResource("2_5p3ro")

[node name="MiniLevel" type="TileMapLayer" parent="Level" unique_id=711802277]
tile_map_data = PackedByteArray("AAALABAAAAAGAAQAAAAMABAAAAAHAAQAAAALABEAAAAGAAQAAAAMABEAAAAHAAQAAAALABIAAAAGAAQAAAAMABIAAAAHAAQAAAALABMAAAAGAAQAAAAMABMAAAAHAAQAAAALABQAAAAGAAQAAAAMABQAAAAHAAQAAAALABUAAAAGAAQAAAAMABUAAAAHAAQAAAALABYAAAAGAAQAAAAMABYAAAAHAAQAAAALABcAAAAGAAQAAAAMABcAAAAHAAQAAAALABgAAAAGAAQAAAAMABgAAAAHAAQAAAALABkAAAAGAAQAAAAMABkAAAAHAAQAAAALABoAAAAGAAQAAAAMABoAAAAHAAQAAAALABsAAAAGAAQAAAAMABsAAAAHAAQAAAALABwAAAAGAAQAAAAMABwAAAAHAAQAAAALAB0AAAAGAAQAAAAMAB0AAAAHAAQAAAALAB4AAAAGAAQAAAAMAB4AAAAHAAQAAAALAB8AAAAGAAQAAAAMAB8AAAAHAAQAAAALACAAAAAGAAQAAAAMACAAAAAHAAQAAAALACEAAAAGAAQAAAAMACEAAAAHAAQAAAALACIAAAAGAAQAAAAMACIAAAAHAAQAAAALACMAAAAGAAQAAAAMACMAAAAHAAQAAAALACQAAAAGAAQAAAAMACQAAAAHAAQAAAALACUAAAAGAAQAAAAMACUAAAAHAAQAAAALACYAAAAGAAQAAAAMACYAAAAHAAQAAAALACcAAAAGAAQAAAAMACcAAAAHAAQAAAApABIAAAACAAQAAAAqABIAAAADAAQAAAApABMAAAACAAQAAAAqABMAAAADAAQAAAApABQAAAACAAQAAAAqABQAAAADAAQAAAApABUAAAACAAQAAAAqABUAAAADAAQAAAApABYAAAACAAQAAAAqABYAAAADAAQAAAApABcAAAACAAQAAAAqABcAAAADAAQAAAApABgAAAACAAQAAAAqABgAAAADAAQAAAApABkAAAACAAQAAAAqABkAAAADAAQAAAApABoAAAACAAQAAAAqABoAAAADAAQAAAApABsAAAACAAQAAAAqABsAAAADAAQAAAApABwAAAACAAYAAAAqABwAAAADAAYAAAApACMAAAACAAMAAAAqACMAAAADAAMAAAApACQAAAACAAQAAAAqACQAAAADAAQAAAApACUAAAACAAQAAAAqACUAAAADAAQAAAApACYAAAACAAQAAAAqACYAAAADAAQAAAApACcAAAACAAQAAAAqACcAAAADAAQAAAAMACgAAAAfAAYAAAApACgAAAAWAAYAAAApABEAAAAWAA8AAAASABAAAAACAAYAAAASABEAAAACAAcAAAATABEAAAADAAcAAAAqACIAAAADAAIAAAApACIAAAACAAIAAAApAB0AAAACAAcAAAAqAB0AAAADAAcAAAA=")
tile_set = ExtResource("3_se30l")

[node name="ToNextLevelTeleportZone" parent="." unique_id=1678569333 instance=ExtResource("4_lieyi")]
position = Vector2(1440, 832)
scale = Vector2(4, 8.1)
to_level_path = "uid://c1erl7bnnoa87"

[node name="DemonRabbit" type="CharacterBody2D" parent="." unique_id=1851863627 node_paths=PackedStringArray("slots", "enterance_sound")]
position = Vector2(1120, 752)
scale = Vector2(2, 2)
collision_layer = 2
collision_mask = 64
script = ExtResource("5_5vagu")
slots = NodePath("../SlotsPath2D/PathFollow2D/Slot")
enterance_sound = NodePath("Sounds/LaughAudioStreamPlayer")

[node name="Sounds" type="Node" parent="DemonRabbit" unique_id=733933601]

[node name="WooshAudioStreamPlayer" type="AudioStreamPlayer" parent="DemonRabbit/Sounds" unique_id=1688454236]
stream = ExtResource("6_ykkyn")

[node name="SpinReelsAudioStreamPlayer" type="AudioStreamPlayer" parent="DemonRabbit/Sounds" unique_id=1205176373]
stream = ExtResource("7_gfy6r")

[node name="LaughAudioStreamPlayer" type="AudioStreamPlayer" parent="DemonRabbit/Sounds" unique_id=1587470151]
stream = ExtResource("8_32dcf")

[node name="StateMachine" type="Node" parent="DemonRabbit" unique_id=1600860637 node_paths=PackedStringArray("inital_state")]
script = ExtResource("6_nphm7")
inital_state = NodePath("StageOne")

[node name="StageOne" type="Node" parent="DemonRabbit/StateMachine" unique_id=1058901099 node_paths=PackedStringArray("throw_sound", "body")]
script = ExtResource("7_sajdd")
throw_sound = NodePath("../../Sounds/WooshAudioStreamPlayer")
body = NodePath("../..")

[node name="StageTwo" type="Node" parent="DemonRabbit/StateMachine" unique_id=1762179082 node_paths=PackedStringArray("pitchfork_spawners", "rock_spawners", "spike_spawners", "spider_spawners", "imp_spawner", "super_bunny_spawner", "spin_reels_sound", "slots_path", "body")]
script = ExtResource("8_sajdd")
pitchfork_spawners = [NodePath("../../../PitchforkSpawner"), NodePath("../../../PitchforkSpawner2"), NodePath("../../../PitchforkSpawner3")]
rock_spawners = [NodePath("../../../RockSpawner"), NodePath("../../../RockSpawner2"), NodePath("../../../RockSpawner3")]
spike_spawners = [NodePath("../../../SpikeSpawner"), NodePath("../../../SpikeSpawner2"), NodePath("../../../SpikeSpawner3")]
spider_spawners = [NodePath("../../../SpiderSpawner"), NodePath("../../../SpiderSpawner2"), NodePath("../../../SpiderSpawner3")]
imp_spawner = NodePath("../../../ImpSpawner")
super_bunny_spawner = NodePath("../../../SuperRabbitSpawner")
spin_reels_sound = NodePath("../../Sounds/SpinReelsAudioStreamPlayer")
slots_path = NodePath("../../../SlotsPath2D/PathFollow2D")
body = NodePath("../..")

[node name="Body" type="AnimatedSprite2D" parent="DemonRabbit" unique_id=1052564435]
modulate = Color(1, 0, 0, 1)
position = Vector2(3.33786e-06, 3.33786e-06)
sprite_frames = ExtResource("6_geej5")
animation = &"stunned"
autoplay = "default"
speed_scale = 0.7

[node name="CollisionShape2D" type="CollisionShape2D" parent="DemonRabbit" unique_id=1904839515]
position = Vector2(3, 32)
shape = SubResource("CircleShape2D_jmrix")

[node name="PitchforkOriginMarker" type="Marker2D" parent="DemonRabbit" unique_id=132763448]
position = Vector2(14, 37)

[node name="Pitchfork" type="Sprite2D" parent="DemonRabbit" unique_id=1064919111]
modulate = Color(1, 0, 0, 1)
position = Vector2(14, 37)
texture = ExtResource("7_plgov")
script = ExtResource("12_wjq65")

[node name="AnimationPlayer" type="AnimationPlayer" parent="DemonRabbit/Pitchfork" unique_id=1214196303]
libraries/ = SubResource("AnimationLibrary_i52du")

[node name="RayCast2D" type="RayCast2D" parent="DemonRabbit/Pitchfork" unique_id=2010698834]
position = Vector2(14, 2)
target_position = Vector2(-38, 0)

[node name="Path2DLinear" type="Path2D" parent="." unique_id=305918026]
position = Vector2(-32, 0)
curve = SubResource("Curve2D_geej5")
script = ExtResource("6_2qow0")
metadata/_custom_type_script = "uid://cwv6f5eaqt8it"

[node name="PathFollow2D" type="PathFollow2D" parent="Path2DLinear" unique_id=1329965944]
position = Vector2(512, 928)
rotates = false

[node name="Level" type="TileMapLayer" parent="Path2DLinear/PathFollow2D" unique_id=1519674090]
position = Vector2(-448, -1120)
tile_map_data = PackedByteArray("AAAHABEAAgAFAAEAAAA=")
tile_set = ExtResource("2_5p3ro")
use_kinematic_bodies = true

[node name="Path2DLinear2" type="Path2D" parent="." unique_id=1620325771]
position = Vector2(-32, 0)
curve = SubResource("Curve2D_geej5")
script = ExtResource("6_2qow0")
start_ratio = 0.25
metadata/_custom_type_script = "uid://cwv6f5eaqt8it"

[node name="PathFollow2D" type="PathFollow2D" parent="Path2DLinear2" unique_id=600655998]
position = Vector2(512, 928)
rotates = false

[node name="Level" type="TileMapLayer" parent="Path2DLinear2/PathFollow2D" unique_id=1019436840]
position = Vector2(-448, -1120)
tile_map_data = PackedByteArray("AAAHABEAAgAFAAEAAAA=")
tile_set = ExtResource("2_5p3ro")
use_kinematic_bodies = true

[node name="Path2DLinear3" type="Path2D" parent="." unique_id=113860410]
position = Vector2(-32, 0)
curve = SubResource("Curve2D_geej5")
script = ExtResource("6_2qow0")
start_ratio = 0.5
metadata/_custom_type_script = "uid://cwv6f5eaqt8it"

[node name="PathFollow2D" type="PathFollow2D" parent="Path2DLinear3" unique_id=1759865277]
position = Vector2(512, 928)
rotates = false

[node name="Level" type="TileMapLayer" parent="Path2DLinear3/PathFollow2D" unique_id=564850716]
position = Vector2(-448, -1120)
tile_map_data = PackedByteArray("AAAHABEAAgAFAAEAAAA=")
tile_set = ExtResource("2_5p3ro")
use_kinematic_bodies = true

[node name="Path2DLinear4" type="Path2D" parent="." unique_id=228866098]
position = Vector2(-32, 0)
curve = SubResource("Curve2D_geej5")
script = ExtResource("6_2qow0")
start_ratio = 0.75
metadata/_custom_type_script = "uid://cwv6f5eaqt8it"

[node name="PathFollow2D" type="PathFollow2D" parent="Path2DLinear4" unique_id=822756452]
position = Vector2(512, 928)
rotates = false

[node name="Level" type="TileMapLayer" parent="Path2DLinear4/PathFollow2D" unique_id=1066742065]
position = Vector2(-448, -1120)
tile_map_data = PackedByteArray("AAAHABEAAgAFAAEAAAA=")
tile_set = ExtResource("2_5p3ro")
use_kinematic_bodies = true

[node name="SlotsPath2D" type="Path2D" parent="." unique_id=1085100440]
position = Vector2(0, -192)
curve = SubResource("Curve2D_8r4um")

[node name="PathFollow2D" type="PathFollow2D" parent="SlotsPath2D" unique_id=1881970899]
rotates = false

[node name="FloorSwitch" parent="SlotsPath2D/PathFollow2D" unique_id=145944332 instance=ExtResource("11_76sjl")]
position = Vector2(512, 288)
has_timer = true
switch_duration = 1.0

[node name="FloorSwitch2" parent="SlotsPath2D/PathFollow2D" unique_id=1898220577 instance=ExtResource("11_76sjl")]
position = Vector2(672, 288)
has_timer = true
switch_duration = 1.0

[node name="FloorSwitch3" parent="SlotsPath2D/PathFollow2D" unique_id=90442388 instance=ExtResource("11_76sjl")]
position = Vector2(832, 288)
has_timer = true
switch_duration = 1.0

[node name="Slot" type="Node2D" parent="SlotsPath2D/PathFollow2D" unique_id=751778029]
position = Vector2(0, -384)
script = ExtResource("9_wl40v")

[node name="Reel" type="Node2D" parent="SlotsPath2D/PathFollow2D/Slot" unique_id=1977099022]
position = Vector2(512, 720)
script = ExtResource("10_jksjo")

[node name="Face1" type="Node2D" parent="SlotsPath2D/PathFollow2D/Slot/Reel" unique_id=1290116092 node_paths=PackedStringArray("next_face")]
scale = Vector2(1, 0.5)
script = ExtResource("9_fvgwv")
next_face = NodePath("../Face2")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="SlotsPath2D/PathFollow2D/Slot/Reel/Face1" unique_id=742416643]
sprite_frames = SubResource("SpriteFrames_lssyx")
animation = &"spike"
autoplay = "pitchfork"
frame_progress = 0.06406685

[node name="AnimationPlayer" type="AnimationPlayer" parent="SlotsPath2D/PathFollow2D/Slot/Reel/Face1" unique_id=1553479507]
libraries/ = SubResource("AnimationLibrary_fvgwv")
autoplay = &"reel_1"

[node name="Face2" type="Node2D" parent="SlotsPath2D/PathFollow2D/Slot/Reel" unique_id=17687219 node_paths=PackedStringArray("next_face")]
position = Vector2(0, 64)
script = ExtResource("9_fvgwv")
next_face = NodePath("../Face3")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="SlotsPath2D/PathFollow2D/Slot/Reel/Face2" unique_id=60120726]
sprite_frames = SubResource("SpriteFrames_lssyx")
animation = &"rabbit"
autoplay = "pitchfork"

[node name="AnimationPlayer" type="AnimationPlayer" parent="SlotsPath2D/PathFollow2D/Slot/Reel/Face2" unique_id=1047702832]
root_node = NodePath("../../Face1")
libraries/ = SubResource("AnimationLibrary_fvgwv")
autoplay = &"reel_2"

[node name="Face3" type="Node2D" parent="SlotsPath2D/PathFollow2D/Slot/Reel" unique_id=299677643]
position = Vector2(0, 128)
scale = Vector2(1, 1e-05)
script = ExtResource("9_fvgwv")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="SlotsPath2D/PathFollow2D/Slot/Reel/Face3" unique_id=2069502605]
sprite_frames = SubResource("SpriteFrames_lssyx")
animation = &"spike"
autoplay = "pitchfork"
frame_progress = 0.8443048

[node name="AnimationPlayer" type="AnimationPlayer" parent="SlotsPath2D/PathFollow2D/Slot/Reel/Face3" unique_id=1925496531]
root_node = NodePath("../../Face1")
libraries/ = SubResource("AnimationLibrary_fvgwv")
autoplay = &"reel_3"

[node name="Reel2" type="Node2D" parent="SlotsPath2D/PathFollow2D/Slot" unique_id=1209147719]
position = Vector2(672, 720)
script = ExtResource("10_jksjo")

[node name="Face1" type="Node2D" parent="SlotsPath2D/PathFollow2D/Slot/Reel2" unique_id=1393703691 node_paths=PackedStringArray("next_face")]
scale = Vector2(1, 0.5)
script = ExtResource("9_fvgwv")
next_face = NodePath("../Face2")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="SlotsPath2D/PathFollow2D/Slot/Reel2/Face1" unique_id=1474259393]
sprite_frames = SubResource("SpriteFrames_lssyx")
animation = &"spike"
autoplay = "pitchfork"
frame_progress = 0.86855596

[node name="AnimationPlayer" type="AnimationPlayer" parent="SlotsPath2D/PathFollow2D/Slot/Reel2/Face1" unique_id=1139697464]
libraries/ = SubResource("AnimationLibrary_fvgwv")
autoplay = &"reel_1"

[node name="Face2" type="Node2D" parent="SlotsPath2D/PathFollow2D/Slot/Reel2" unique_id=1362504904 node_paths=PackedStringArray("next_face")]
position = Vector2(0, 64)
script = ExtResource("9_fvgwv")
next_face = NodePath("../Face3")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="SlotsPath2D/PathFollow2D/Slot/Reel2/Face2" unique_id=1228081389]
sprite_frames = SubResource("SpriteFrames_lssyx")
animation = &"spike"
autoplay = "pitchfork"
frame_progress = 0.8443048

[node name="AnimationPlayer" type="AnimationPlayer" parent="SlotsPath2D/PathFollow2D/Slot/Reel2/Face2" unique_id=799054946]
root_node = NodePath("../../Face1")
libraries/ = SubResource("AnimationLibrary_fvgwv")
autoplay = &"reel_2"

[node name="Face3" type="Node2D" parent="SlotsPath2D/PathFollow2D/Slot/Reel2" unique_id=544381342]
position = Vector2(0, 128)
scale = Vector2(1, 1e-05)
script = ExtResource("9_fvgwv")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="SlotsPath2D/PathFollow2D/Slot/Reel2/Face3" unique_id=1354711515]
sprite_frames = SubResource("SpriteFrames_lssyx")
animation = &"spike"
autoplay = "pitchfork"
frame_progress = 0.8443048

[node name="AnimationPlayer" type="AnimationPlayer" parent="SlotsPath2D/PathFollow2D/Slot/Reel2/Face3" unique_id=94565113]
root_node = NodePath("../../Face1")
libraries/ = SubResource("AnimationLibrary_fvgwv")
autoplay = &"reel_3"

[node name="Reel3" type="Node2D" parent="SlotsPath2D/PathFollow2D/Slot" unique_id=1360197331]
position = Vector2(832, 720)
script = ExtResource("10_jksjo")

[node name="Face1" type="Node2D" parent="SlotsPath2D/PathFollow2D/Slot/Reel3" unique_id=1053429833 node_paths=PackedStringArray("next_face")]
scale = Vector2(1, 0.5)
script = ExtResource("9_fvgwv")
next_face = NodePath("../Face2")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="SlotsPath2D/PathFollow2D/Slot/Reel3/Face1" unique_id=1169800182]
sprite_frames = SubResource("SpriteFrames_lssyx")
animation = &"spike"
autoplay = "pitchfork"
frame_progress = 0.86855596

[node name="AnimationPlayer" type="AnimationPlayer" parent="SlotsPath2D/PathFollow2D/Slot/Reel3/Face1" unique_id=310648182]
libraries/ = SubResource("AnimationLibrary_fvgwv")
autoplay = &"reel_1"

[node name="Face2" type="Node2D" parent="SlotsPath2D/PathFollow2D/Slot/Reel3" unique_id=1852758802 node_paths=PackedStringArray("next_face")]
position = Vector2(0, 64)
script = ExtResource("9_fvgwv")
next_face = NodePath("../Face3")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="SlotsPath2D/PathFollow2D/Slot/Reel3/Face2" unique_id=1084835361]
sprite_frames = SubResource("SpriteFrames_lssyx")
animation = &"spike"
autoplay = "pitchfork"
frame_progress = 0.8443048

[node name="AnimationPlayer" type="AnimationPlayer" parent="SlotsPath2D/PathFollow2D/Slot/Reel3/Face2" unique_id=675009599]
root_node = NodePath("../../Face1")
libraries/ = SubResource("AnimationLibrary_fvgwv")
autoplay = &"reel_2"

[node name="Face3" type="Node2D" parent="SlotsPath2D/PathFollow2D/Slot/Reel3" unique_id=184493441]
position = Vector2(0, 128)
scale = Vector2(1, 1e-05)
script = ExtResource("9_fvgwv")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="SlotsPath2D/PathFollow2D/Slot/Reel3/Face3" unique_id=224807790]
sprite_frames = SubResource("SpriteFrames_lssyx")
animation = &"spike"
autoplay = "pitchfork"
frame_progress = 0.8443048

[node name="AnimationPlayer" type="AnimationPlayer" parent="SlotsPath2D/PathFollow2D/Slot/Reel3/Face3" unique_id=862103474]
root_node = NodePath("../../Face1")
libraries/ = SubResource("AnimationLibrary_fvgwv")
autoplay = &"reel_3"

[node name="MiniLevel" type="TileMapLayer" parent="SlotsPath2D/PathFollow2D" unique_id=1387092544]
position = Vector2(0, -576)
tile_map_data = PackedByteArray("AAAPABkAAAACAAIAAAAPABoAAAACAAcAAAAQABkAAAAHAAIAAAAQABoAAAAHAAcAAAAUABkAAAACAAIAAAAUABoAAAACAAcAAAAVABkAAAAHAAIAAAAVABoAAAAHAAcAAAAZABkAAAACAAIAAAAZABoAAAACAAcAAAAaABkAAAAHAAIAAAAaABoAAAAHAAcAAAA=")
tile_set = ExtResource("3_se30l")

[node name="Sprite2D" type="Sprite2D" parent="SlotsPath2D/PathFollow2D/MiniLevel" unique_id=1079616949]
position = Vector2(512, 832)
scale = Vector2(0.75, 0.75)
texture = ExtResource("20_psb4i")

[node name="Sprite2D2" type="Sprite2D" parent="SlotsPath2D/PathFollow2D/MiniLevel" unique_id=592097056]
position = Vector2(672, 832)
scale = Vector2(0.75, 0.75)
texture = ExtResource("20_psb4i")

[node name="Sprite2D3" type="Sprite2D" parent="SlotsPath2D/PathFollow2D/MiniLevel" unique_id=356279224]
position = Vector2(832, 832)
scale = Vector2(0.75, 0.75)
texture = ExtResource("20_psb4i")

[node name="Sprite2D4" type="Sprite2D" parent="SlotsPath2D/PathFollow2D/MiniLevel" unique_id=1144057076]
position = Vector2(576, 768)
texture = ExtResource("21_2ubnh")

[node name="ImpSpawner" type="Marker2D" parent="." unique_id=1020159798]
position = Vector2(1376, 768)
script = ExtResource("22_02g23")
enemy_scene = ExtResource("21_opxan")
spawn_every_x_seconds = 0.0
stop_spawning_after_x_seconds = 0.0

[node name="SuperRabbitSpawner" type="Marker2D" parent="." unique_id=883260866]
position = Vector2(480, 256)
script = ExtResource("22_02g23")
enemy_scene = ExtResource("27_n1djo")
spawn_every_x_seconds = 0.0
stop_spawning_after_x_seconds = 0.0

[node name="PitchforkSpawner" parent="." unique_id=738302690 instance=ExtResource("19_8r4um")]
position = Vector2(320, 960)

[node name="PitchforkSpawner2" parent="." unique_id=1604021801 instance=ExtResource("19_8r4um")]
position = Vector2(320, 832)

[node name="PitchforkSpawner3" parent="." unique_id=1390925016 instance=ExtResource("19_8r4um")]
position = Vector2(320, 704)

[node name="RockSpawner" type="Marker2D" parent="." unique_id=971065515]
position = Vector2(512, 256)
script = ExtResource("22_02g23")
enemy_scene = ExtResource("23_x6o5y")
spawn_every_x_seconds = 0.0
stop_spawning_after_x_seconds = 0.0

[node name="RockSpawner2" type="Marker2D" parent="." unique_id=1713918366]
position = Vector2(672, 256)
script = ExtResource("22_02g23")
enemy_scene = ExtResource("23_x6o5y")
spawn_every_x_seconds = 0.0
stop_spawning_after_x_seconds = 0.0

[node name="RockSpawner3" type="Marker2D" parent="." unique_id=343038461]
position = Vector2(832, 256)
script = ExtResource("22_02g23")
enemy_scene = ExtResource("23_x6o5y")
spawn_every_x_seconds = 0.0
stop_spawning_after_x_seconds = 0.0

[node name="SpikeSpawner" type="Marker2D" parent="." unique_id=1320730127]
position = Vector2(512, 1216)
script = ExtResource("22_02g23")
enemy_scene = ExtResource("24_bd8oj")
spawn_every_x_seconds = 0.0
stop_spawning_after_x_seconds = 0.0

[node name="SpikeSpawner2" type="Marker2D" parent="." unique_id=504650028]
position = Vector2(672, 1216)
script = ExtResource("22_02g23")
enemy_scene = ExtResource("24_bd8oj")
spawn_every_x_seconds = 0.0
stop_spawning_after_x_seconds = 0.0

[node name="SpikeSpawner3" type="Marker2D" parent="." unique_id=494294796]
position = Vector2(832, 1216)
script = ExtResource("22_02g23")
enemy_scene = ExtResource("24_bd8oj")
spawn_every_x_seconds = 0.0
stop_spawning_after_x_seconds = 0.0

[node name="SpiderSpawner" type="Marker2D" parent="." unique_id=483958748]
position = Vector2(1056, 256)
script = ExtResource("22_02g23")
enemy_scene = ExtResource("26_opxan")
spawn_every_x_seconds = 0.0
stop_spawning_after_x_seconds = 0.0

[node name="SpiderSpawner2" type="Marker2D" parent="." unique_id=1066450366]
position = Vector2(1120, 256)
script = ExtResource("22_02g23")
enemy_scene = ExtResource("26_opxan")
spawn_every_x_seconds = 0.0
stop_spawning_after_x_seconds = 0.0

[node name="SpiderSpawner3" type="Marker2D" parent="." unique_id=8186882]
position = Vector2(1184, 256)
script = ExtResource("22_02g23")
enemy_scene = ExtResource("26_opxan")
spawn_every_x_seconds = 0.0
stop_spawning_after_x_seconds = 0.0

[node name="BossMusicAudioStreamPlayer" type="AudioStreamPlayer" parent="." unique_id=1450441113]
stream = ExtResource("27_q4j7r")
playback_type = 1
parameters/looping = true

[node name="Path2D" type="Path2D" parent="." unique_id=802491862]
curve = SubResource("Curve2D_ocdvy")

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D" unique_id=726502068]
position = Vector2(1344, 832)
rotates = false
loop = false

[node name="Door" parent="Path2D/PathFollow2D" unique_id=1534481248 node_paths=PackedStringArray("movement_path") instance=ExtResource("2_q4j7r")]
script = ExtResource("29_ocdvy")
movement_path = NodePath("..")

[connection signal="ready" from="." to="." method="_on_ready"]
[connection signal="on_damage" from="DemonRabbit" to="DemonRabbit/StateMachine/StageTwo" method="_on_take_damage"]
[connection signal="on_death" from="DemonRabbit" to="DemonRabbit/StateMachine/StageTwo" method="_on_death"]
[connection signal="on_death" from="DemonRabbit" to="Path2D/PathFollow2D/Door" method="_on_switch_flipped_on"]
[connection signal="switch_flipped_on" from="SlotsPath2D/PathFollow2D/FloorSwitch" to="SlotsPath2D/PathFollow2D/Slot/Reel" method="hold_reel" unbinds=1]
[connection signal="switch_flipped_on" from="SlotsPath2D/PathFollow2D/FloorSwitch2" to="SlotsPath2D/PathFollow2D/Slot/Reel2" method="hold_reel" unbinds=1]
[connection signal="switch_flipped_on" from="SlotsPath2D/PathFollow2D/FloorSwitch3" to="SlotsPath2D/PathFollow2D/Slot/Reel3" method="hold_reel" unbinds=1]
