[gd_scene load_steps=12 format=4 uid="uid://bxo30nr2i85cv"]

[ext_resource type="Script" uid="uid://qkyrpvk420dw" path="res://level/level.gd" id="1_3fquk"]
[ext_resource type="TileSet" uid="uid://c5nfl1oinj88m" path="res://level/level_tileset.tres" id="2_jsekn"]
[ext_resource type="TileSet" uid="uid://dpa3di8xng37r" path="res://level/level_tileset_mini.tres" id="3_mq0vt"]
[ext_resource type="PackedScene" uid="uid://bxjr0uwo0iqbk" path="res://objects/abstract/teleport_to_level_zone/teleport_to_level_zone.tscn" id="3_pukjq"]
[ext_resource type="PackedScene" uid="uid://bfdmpp2r661yo" path="res://enemies/rabbit/rabbit.tscn" id="4_jk6bc"]
[ext_resource type="PackedScene" uid="uid://dqf5epnakyje8" path="res://objects/door/door.tscn" id="5_3fquk"]
[ext_resource type="Script" uid="uid://jen8d055ikgk" path="res://objects/abstract/move_on_switch_activated/move_on_switch_activated.gd" id="6_jk6bc"]
[ext_resource type="PackedScene" uid="uid://bus2730on4ksk" path="res://objects/switch/floor_switch.tscn" id="6_jsekn"]
[ext_resource type="PackedScene" uid="uid://bvkius8ni6k6a" path="res://objects/traps/spikes/spike.tscn" id="7_pukjq"]

[sub_resource type="Curve2D" id="Curve2D_jsekn"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -128)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_3fquk"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -128)
}
point_count = 2

[node name="Level_9" type="Node2D" node_paths=PackedStringArray("spawn_locations")]
script = ExtResource("1_3fquk")
level_binding_box = Rect2(-64, 128, 960, 896)
spawn_locations = [NodePath("EntrySpawnPoint"), NodePath("ReturnSpawnPoint")]
camera_zoom_to = Vector2(1, 1)

[node name="EntrySpawnPoint" type="Marker2D" parent="."]
position = Vector2(-64, 288)

[node name="ReturnSpawnPoint" type="Marker2D" parent="."]
position = Vector2(960, 800)

[node name="Level" type="TileMapLayer" parent="."]
position = Vector2(192, -64)
tile_map_data = PackedByteArray("AAD9/wMAAgACAAMAAAD+/wMAAgACAAMAAAD//wMAAgACAAMAAAAAAAMAAgACAAMAAAABAAMAAgACAAMAAAACAAMAAgACAAMAAAADAAMAAgACAAMAAAAEAAMAAgACAAMAAAAFAAMAAgACAAMAAAD8/wMAAgACAAMAAAD8/wYAAgACAAEAAAD7/wMAAgACAAMAAAD7/wYAAgACAAEAAAD//wkAAgACAAEAAAD//woAAgABAAMAAAD//w0AAgAFAAMAAAD//w4AAgANAAQAAAAAAAkAAgADAAEAAAAAAAoAAgACAAMAAAAAAA4AAgACAAEAAAABAAoAAgAIAAEAAAABAA0AAgAFAAMAAAABAA4AAgANAAQAAAACAAoAAgAIAAEAAAACAA4AAgACAAEAAAADAAkAAgAFAAMAAAADAAoAAgACAAMAAAADAA4AAgACAAEAAAAEAAoAAgAIAAEAAAAEAA0AAgAFAAMAAAAEAA4AAgANAAQAAAAFAAoAAgACAAMAAAAFAA4AAgACAAEAAAD9/wYAAgAIAAEAAAD+/wYAAgAIAAEAAAD//wYAAgAIAAEAAAAAAAYAAgAIAAEAAAABAAYAAgAIAAEAAAACAAYAAgAIAAEAAAADAAYAAgAIAAEAAAAEAAYAAgAIAAEAAAAFAAYAAgAIAAEAAAAGAAMAAgACAAMAAAAGAAYAAgAJAAEAAAAGAAoAAgAIAAEAAAAGAA4AAgALAAMAAAAHAAMAAgACAAMAAAAHAAoAAgACAAMAAAAHAA4AAgACAAEAAAAIAAMAAgALAAcAAAAIAAkAAgAOAAQAAAAIAAoAAgADAAIAAAAIAA4AAgACAAEAAAAJAAsAAgAIAAEAAAAJAA4AAgACAAEAAAAFAAkAAgAFAAMAAAAGAA0AAgAFAAMAAAAHAAkAAgABAAEAAAAIAAQAAgAFAAQAAAAIAAUAAgABAAIAAAAIAAYAAgAFAAQAAAAIAAcAAgAFAAQAAAAIAAgAAgAFAAQAAAAIAAsAAgABAAMAAAD8/wcAAgADAAIAAAD8/wgAAgADAAIAAAD8/wkAAgADAAIAAAD8/woAAgADAAIAAAD8/wsAAgADAAIAAAD8/wwAAgADAAIAAAD8/w0AAgAPAAMAAAD8/w4AAgACAAIAAAD9/w0AAgADAAEAAAD9/w4AAgAPAAMAAAD+/wkAAgAHAAEAAAD+/w4AAgACAAEAAAAJAAUAAgAJAAEAAAAKAAcAAgAHAAEAAAAJAAkAAgAJAAEAAAAJAAMAAgACAAMAAAAKAAMAAgACAAMAAAALAAQAAgABAAIAAAALAAUAAgABAAIAAAALAAYAAgABAAIAAAALAAgAAgABAAIAAAAKAAsAAgAIAAEAAAALAAoAAgABAAIAAAALAAkAAgABAAIAAAALAAsAAgACAAMAAAALAAcAAgAMAAUAAAALAAMAAgALAAcAAAAMAAsAAgACAAMAAAAKAA4AAgACAAEAAAALAA4AAgACAAEAAAAMAA4AAgACAAEAAAA=")
tile_set = ExtResource("2_jsekn")

[node name="MiniLevel" type="TileMapLayer" parent="Level"]
tile_map_data = PackedByteArray("AAAQABUAAAAWAA8AAAARAAoAAAAdAAgAAAABABQAAAAdAAgAAAAHABQAAAAdAAgAAAALABQAAAAdAAgAAAARABYAAAAdAAgAAAANABwAAAAdAAgAAAD5/w0AAAAdAA0AAAAOABQAAAAWAAYAAAAWABYAAAAWAAYAAAARAAcAAAAdAA0AAAAKABQAAAAaAAgAAAAGABQAAAAaAAgAAAARAAsAAAAdAAsAAAD+/xMAAAAWAA8AAAA=")
tile_set = ExtResource("3_mq0vt")

[node name="ToNextLevelTeleportZone" parent="." instance=ExtResource("3_pukjq")]
position = Vector2(1056, 768)
scale = Vector2(4, 8.1)
to_level_path = "uid://d4hrqsj6q1pl6"

[node name="ToPreviousLevelTeleportZone" parent="." instance=ExtResource("3_pukjq")]
position = Vector2(-160, 256)
scale = Vector2(4, 8.1)
to_level_path = "uid://6fyl1kvwta1a"
to_spawn_location_with_index = 1

[node name="Rabbit" parent="." instance=ExtResource("4_jk6bc")]
position = Vector2(800, 240)
jump_movement = Vector2(150, -300)
jump_timer = 0.9

[node name="DoorPath" type="Path2D" parent="."]
position = Vector2(160, 576)
curve = SubResource("Curve2D_jsekn")

[node name="DoorPathFollow" type="PathFollow2D" parent="DoorPath"]
rotates = false
loop = false

[node name="Door" parent="DoorPath/DoorPathFollow" node_paths=PackedStringArray("movement_path") instance=ExtResource("5_3fquk")]
script = ExtResource("6_jk6bc")
movement_path = NodePath("..")

[node name="DoorPath2" type="Path2D" parent="."]
position = Vector2(736, 768)
curve = SubResource("Curve2D_3fquk")

[node name="DoorPathFollow" type="PathFollow2D" parent="DoorPath2"]
rotates = false
loop = false

[node name="Door" parent="DoorPath2/DoorPathFollow" node_paths=PackedStringArray("movement_path") instance=ExtResource("5_3fquk")]
script = ExtResource("6_jk6bc")
movement_path = NodePath("..")

[node name="Switch" parent="." instance=ExtResource("6_jsekn")]
position = Vector2(800, 640)

[node name="Spike" parent="." instance=ExtResource("7_pukjq")]
position = Vector2(272, 552)

[node name="Spike2" parent="." instance=ExtResource("7_pukjq")]
position = Vector2(304, 552)

[node name="Spike3" parent="." instance=ExtResource("7_pukjq")]
position = Vector2(336, 552)

[node name="Spike4" parent="." instance=ExtResource("7_pukjq")]
position = Vector2(368, 552)

[node name="Spike5" parent="." instance=ExtResource("7_pukjq")]
position = Vector2(464, 552)

[node name="Spike6" parent="." instance=ExtResource("7_pukjq")]
position = Vector2(496, 552)

[node name="Spike7" parent="." instance=ExtResource("7_pukjq")]
position = Vector2(592, 552)

[node name="Spike8" parent="." instance=ExtResource("7_pukjq")]
position = Vector2(624, 552)

[node name="Spike9" parent="." instance=ExtResource("7_pukjq")]
position = Vector2(528, 808)

[node name="Spike11" parent="." instance=ExtResource("7_pukjq")]
position = Vector2(336, 808)

[node name="Spike12" parent="." instance=ExtResource("7_pukjq")]
position = Vector2(368, 808)

[node name="Spike13" parent="." instance=ExtResource("7_pukjq")]
position = Vector2(400, 808)

[node name="Spike14" parent="." instance=ExtResource("7_pukjq")]
position = Vector2(432, 808)

[node name="Spike15" parent="." instance=ExtResource("7_pukjq")]
position = Vector2(208, 808)

[node name="Spike16" parent="." instance=ExtResource("7_pukjq")]
position = Vector2(240, 808)

[node name="Spike17" parent="." instance=ExtResource("7_pukjq")]
position = Vector2(80, 808)

[node name="Spike18" parent="." instance=ExtResource("7_pukjq")]
position = Vector2(112, 808)

[node name="Spike19" parent="." instance=ExtResource("7_pukjq")]
position = Vector2(96, 576)
rotation = 3.1415927
scale = Vector2(1.9, 1.9)

[node name="Spike10" parent="." instance=ExtResource("7_pukjq")]
position = Vector2(560, 808)

[connection signal="ready" from="." to="." method="_on_ready"]
[connection signal="switch_flipped_on" from="Switch" to="DoorPath/DoorPathFollow/Door" method="_on_switch_flipped_on"]
[connection signal="switch_flipped_on" from="Switch" to="DoorPath2/DoorPathFollow/Door" method="_on_switch_flipped_on"]
