[gd_scene load_steps=11 format=4 uid="uid://b3mv21r6xcn7b"]

[ext_resource type="Script" uid="uid://qkyrpvk420dw" path="res://level/level.gd" id="1_nyeeo"]
[ext_resource type="TileSet" uid="uid://c5nfl1oinj88m" path="res://level/level_tileset.tres" id="2_gfbci"]
[ext_resource type="TileSet" uid="uid://dpa3di8xng37r" path="res://level/level_tileset_mini.tres" id="3_4nclm"]
[ext_resource type="Script" uid="uid://bhj705hwpanuo" path="res://level/platforms/rotating/rotating_platform_over_time.gd" id="4_35ii1"]
[ext_resource type="PackedScene" uid="uid://bxjr0uwo0iqbk" path="res://objects/abstract/teleport_to_level_zone/teleport_to_level_zone.tscn" id="4_ybuji"]
[ext_resource type="PackedScene" uid="uid://bvkius8ni6k6a" path="res://objects/traps/spikes/spike.tscn" id="6_a58x1"]
[ext_resource type="Script" uid="uid://cun18auwrqa22" path="res://objects/abstract/follow_path_cyclical/follow_path_cyclical.gd" id="7_tuskr"]
[ext_resource type="PackedScene" uid="uid://bvqby3mtmw7qn" path="res://objects/health_upgrade_item.tscn" id="8_ymkjy"]
[ext_resource type="PackedScene" uid="uid://ctot71jpjx0j0" path="res://enemies/imp/flying/flying_imp.tscn" id="9_ymkjy"]

[sub_resource type="Curve2D" id="Curve2D_tuskr"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 960, 0)
}
point_count = 2

[node name="Level_20" type="Node2D" node_paths=PackedStringArray("spawn_locations")]
script = ExtResource("1_nyeeo")
level_binding_box = Rect2(-64, 256, 1600, 832)
spawn_locations = [NodePath("EntrySpawnPoint"), NodePath("ReturnSpawnPoint"), null]

[node name="EntrySpawnPoint" type="Marker2D" parent="."]
position = Vector2(-96, 480)

[node name="ReturnSpawnPoint" type="Marker2D" parent="."]
position = Vector2(1632, 480)

[node name="Level" type="TileMapLayer" parent="."]
position = Vector2(0, -192)
tile_map_data = PackedByteArray("AAD+/wsAAgACAAEAAAD//wsAAgACAAEAAAAAAAsAAgAJAAEAAAD//wwAAgADAAIAAAD//w0AAgADAAIAAAD//w4AAgADAAIAAAD//w8AAgAPAAMAAAAXAAsAAgAHAAEAAAAYAAsAAgACAAEAAAAYAAwAAgABAAIAAAAYAA0AAgABAAIAAAAYAA4AAgABAAIAAAAYAA8AAgALAAMAAAAZAAsAAgACAAEAAAAAAA8AAgACAAEAAAABAA8AAgACAAEAAAACAA8AAgACAAEAAAADAA8AAgACAAEAAAAEAA8AAgACAAEAAAAFAA8AAgACAAEAAAAGAA8AAgACAAEAAAAHAA8AAgACAAEAAAAIAA8AAgACAAEAAAAJAA8AAgACAAEAAAAKAA8AAgACAAEAAAALAA8AAgACAAEAAAAMAA8AAgACAAEAAAANAA8AAgACAAEAAAAOAA8AAgACAAEAAAAPAA8AAgACAAEAAAAQAA8AAgACAAEAAAARAA8AAgACAAEAAAASAA8AAgACAAEAAAATAA8AAgACAAEAAAAUAA8AAgACAAEAAAAVAA8AAgACAAEAAAAWAA8AAgACAAEAAAAXAA8AAgACAAEAAAD+/wgAAgACAAMAAAD//wgAAgACAAMAAAAAAAgAAgACAAMAAAABAAgAAgACAAMAAAACAAgAAgACAAMAAAAZAAgAAgACAAMAAAAYAAgAAgACAAMAAAAXAAgAAgACAAMAAAAWAAgAAgACAAMAAAAVAAgAAgACAAMAAAAUAAgAAgAHAAUAAAADAAgAAgAJAAUAAAAEAAcAAgACAAMAAAAFAAcAAgACAAMAAAAGAAcAAgACAAMAAAAHAAcAAgACAAMAAAAIAAcAAgACAAMAAAAJAAcAAgACAAMAAAAKAAcAAgACAAMAAAALAAcAAgACAAMAAAAMAAcAAgACAAMAAAANAAcAAgACAAMAAAAOAAcAAgACAAMAAAAPAAcAAgACAAMAAAAQAAcAAgACAAMAAAARAAcAAgACAAMAAAASAAcAAgACAAMAAAATAAcAAgACAAMAAAADAAcAAgAPAAcAAAAUAAcAAgALAAcAAAA=")
tile_set = ExtResource("2_gfbci")

[node name="MiniLevel" type="TileMapLayer" parent="Level"]
tile_map_data = PackedByteArray("AAD//xcAAAAfAA8AAAAwABcAAAAWAA8AAAA=")
tile_set = ExtResource("3_4nclm")

[node name="ToNextLevelTeleportZone" parent="." instance=ExtResource("4_ybuji")]
position = Vector2(1696, 448)
scale = Vector2(4, 8.1)
to_level_path = "uid://b7e2ilx4c2b4i"

[node name="ToPreviousLevelTeleportZone" parent="." instance=ExtResource("4_ybuji")]
position = Vector2(-160, 448)
scale = Vector2(4, 8.1)
to_level_path = "uid://bnwundjfdgmbd"
to_spawn_location_with_index = 1

[node name="Spike" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(16, 752)

[node name="Spike2" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(48, 752)

[node name="Spike3" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(80, 752)

[node name="Spike4" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(112, 752)

[node name="Spike5" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(144, 752)

[node name="Spike6" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(176, 752)

[node name="Spike7" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(208, 752)

[node name="Spike8" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(240, 752)

[node name="Spike9" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(272, 752)

[node name="Spike10" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(304, 752)

[node name="Spike11" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(336, 752)

[node name="Spike12" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(368, 752)

[node name="Spike13" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(400, 752)

[node name="Spike14" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(432, 752)

[node name="Spike15" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(464, 752)

[node name="Spike16" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(496, 752)

[node name="Spike17" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(528, 752)

[node name="Spike18" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(560, 752)

[node name="Spike19" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(592, 752)

[node name="Spike20" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(624, 752)

[node name="Spike21" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(656, 752)

[node name="Spike22" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(688, 752)

[node name="Spike23" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(720, 752)

[node name="Spike24" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(752, 752)

[node name="Spike25" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(784, 752)

[node name="Spike26" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(816, 752)

[node name="Spike27" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(848, 752)

[node name="Spike28" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(880, 752)

[node name="Spike29" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(912, 752)

[node name="Spike30" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(944, 752)

[node name="Spike31" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(976, 752)

[node name="Spike32" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(1008, 752)

[node name="Spike33" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(1040, 752)

[node name="Spike34" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(1072, 752)

[node name="Spike35" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(1104, 752)

[node name="Spike36" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(1136, 752)

[node name="Spike37" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(1168, 752)

[node name="Spike38" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(1200, 752)

[node name="Spike39" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(1232, 752)

[node name="Spike40" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(1264, 752)

[node name="Spike41" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(1296, 752)

[node name="Spike42" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(1328, 752)

[node name="Spike43" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(1360, 752)

[node name="Spike44" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(1392, 752)

[node name="Spike45" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(1424, 752)

[node name="Spike46" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(1456, 752)

[node name="Spike47" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(1488, 752)

[node name="Spike48" parent="." instance=ExtResource("6_a58x1")]
position = Vector2(1520, 752)

[node name="Path2DSineCyclical" type="Path2D" parent="."]
position = Vector2(288, 608)
curve = SubResource("Curve2D_tuskr")
script = ExtResource("7_tuskr")
metadata/_custom_type_script = "uid://cun18auwrqa22"

[node name="PathFollow2D" type="PathFollow2D" parent="Path2DSineCyclical"]
rotates = false

[node name="SpinningPlatformPivot" type="Node2D" parent="Path2DSineCyclical/PathFollow2D"]
script = ExtResource("4_35ii1")
speed = 65.0

[node name="SpinningPlatform" type="TileMapLayer" parent="Path2DSineCyclical/PathFollow2D/SpinningPlatformPivot"]
position = Vector2(-32, -32)
tile_map_data = PackedByteArray("AAD+/wAAAgAHAAEAAAD//wAAAgAIAAEAAAAAAP7/AgAFAAMAAAAAAP//AgAFAAQAAAAAAAAAAgANAAUAAAAAAAEAAgAFAAQAAAAAAAIAAgAFAAUAAAABAAAAAgAIAAEAAAACAAAAAgAJAAEAAAA=")
tile_set = ExtResource("2_gfbci")
use_kinematic_bodies = true

[node name="Path2DSineCyclical2" type="Path2D" parent="."]
position = Vector2(288, 608)
curve = SubResource("Curve2D_tuskr")
script = ExtResource("7_tuskr")
start_distance_ratio = 1.0
metadata/_custom_type_script = "uid://cun18auwrqa22"

[node name="PathFollow2D" type="PathFollow2D" parent="Path2DSineCyclical2"]
position = Vector2(960, 0)
progress = 960.0
rotates = false

[node name="SpinningPlatformPivot" type="Node2D" parent="Path2DSineCyclical2/PathFollow2D"]
script = ExtResource("4_35ii1")
speed = -65.0

[node name="HealthUpgradeItem" parent="Path2DSineCyclical2/PathFollow2D/SpinningPlatformPivot" instance=ExtResource("8_ymkjy")]
position = Vector2(-48, 48)
rotation = -2.3911011
pickup_unique_name = "hp_pickup_5"

[node name="SpinningPlatform" type="TileMapLayer" parent="Path2DSineCyclical2/PathFollow2D/SpinningPlatformPivot"]
position = Vector2(-32, -32)
tile_map_data = PackedByteArray("AAD+/wAAAgAHAAEAAAD//wAAAgAIAAEAAAAAAP7/AgAFAAMAAAAAAP//AgAFAAQAAAAAAAAAAgANAAUAAAAAAAEAAgAFAAQAAAAAAAIAAgAFAAUAAAABAAAAAgAIAAEAAAACAAAAAgAJAAEAAAA=")
tile_set = ExtResource("2_gfbci")
use_kinematic_bodies = true

[node name="FlyingImp" parent="." instance=ExtResource("9_ymkjy")]
position = Vector2(752, 368)

[node name="Seek" parent="FlyingImp/StateMachine" index="0"]
seeking_speed = 75
prepare_attack_at_range = 100.0

[node name="Attack" parent="FlyingImp/StateMachine" index="1"]
attacking_speed = 600
attacking_length_timer = 0.5

[node name="PrepareAttack" parent="FlyingImp/StateMachine" index="2"]
attack_pause_length_timer = 2.0

[connection signal="ready" from="." to="." method="_on_ready"]

[editable path="FlyingImp"]
